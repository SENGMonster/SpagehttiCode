package de.wifhm.se1.android.battleship.manager;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.GridView;
import de.wifhm.se1.android.activity.R;
import de.wifhm.se1.android.battleship.shiptypes.Spielvorlage1;

public class GridViewActivity extends Activity {
    /** Called when the activity is first created. */
	
	private Battlefieldmanager mBattlefieldmanager;
	
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        
        //f�r Random Layout bei Neustart zur�cksetzen
        Schiff.counter=0;
     
        Spielvorlage spiel = new Spielvorlage1();
        ImageAdapter imgadp = new ImageAdapter(this,spiel);
        GridView gridview = (GridView) findViewById (R.id.gridview);
        gridview.setAdapter(imgadp);
        
        
        mBattlefieldmanager = new Battlefieldmanager(spiel, GridViewActivity.this);
       

        gridview.setOnItemClickListener(new OnItemClickListener(){
            public void onItemClick(AdapterView<?> arg0, View v, int position,
  					long id) {
            	
            	mBattlefieldmanager.hasHitAShip(position,v);
  				//Toast.makeText(GridViewActivity.this, ""+ position, Toast.LENGTH_SHORT).show();
  			
  				
  				
  			}
          	
          });
		
    }
}